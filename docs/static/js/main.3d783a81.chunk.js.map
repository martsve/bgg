{"version":3,"sources":["modules/Configuration.js","modules/CounterWidget/CounterWidget.js","modules/CounterWidget/CW.js","modules/AddUserComponent/AddUserWidget.js","modules/AddUserComponent/AddUserComponent.js","modules/ErrorPages/index.js","modules/bgg/xml2json.js","modules/utilities/db.js","modules/bgg/index.js","modules/ViewUserComponent/GetBggDataWidget.js","modules/ViewUserComponent/ViewUserComponent.js","modules/Collection.js","store/state.js","store/reducer.js","store/index.js","modules/HomeComponent.js","modules/FilterCollectionComponent/FilterCollectionWidget.js","modules/FilterCollectionComponent/CreateGameDataUtility.js","modules/FilterCollectionComponent/GameDataCard.js","modules/FilterCollectionComponent/FilterCollectionComponent.js","Router/App.js","serviceWorker.js","index.js"],"names":["Configuration","props","dispatch","useDispatch","className","onClick","type","history","push","CounterWidget","count","setCounter","connect","state","AddUserWidget","addUser","useState","name","setName","value","onChange","e","target","users","NotFound","convertXml2Json","text","xml","tab","X","toObj","o","nodeType","attributes","length","i","nodeName","nodeValue","toString","firstChild","textChild","cdataChild","hasElementChild","n","nextSibling","match","removeWhite","nm","escape","Array","innerXml","na","documentElement","alert","toJson","ind","json","join","arr","m","replace","node","s","innerHTML","asXml","c","txt","normalize","nxt","removeChild","xml2json","dom","window","DOMParser","parseFromString","ActiveXObject","async","loadXML","parseError","reason","srcText","parseXml","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","shimIndexedDB","IMAGES","DETAILS","CACHE","version","Promise","resolve","reject","request","open","onupgradeneeded","event","db","result","createObjectStore","keyPath","onsuccess","onerror","error","onblocked","console","log","add_to_db","conn","table","key","transaction","objectStore","put","id","data","get_from_db","get","add","a","close","bgg_config","DELAY","sleep","ms","setTimeout","fetchUntil","url","retries","mult","retryN","fetch","status","Math","pow","bgg","path","queryParams","refresh","qs","Object","entries","map","indexOf","cache","JSON","parse","then","x","obj","GetBggDataWidget","save","setData","details","setDetails","setImages","useEffect","getDetails","getNextDetails","list","stats","results","newDetails","slice","items","item","username","subtype","excludesubtype","own","keys","games","style","marginTop","setId","params","user","MainPage","UserList","activeClassName","to","borderTop","component","AddUserComponent","ViewUserComponent","CW","initialState","stateVersion","active","collection","reducer","action","localStorage","clear","deleteDatabase","DB","newState","delState","sort","sstate","getInitialState","getItem","reduceState","setItem","stringify","store","React","createContext","createStore","AllFilters","basic","title","options","filter","minplayers","maxplayers","suggestedPlayers","best","recommended","avoid","playtime","weight","group","includes","year","rating","plays","numowned","default","language","toggle_filter","filters","change","newFilter","isActiveFilter","v","prev","find","encodeURIComponent","FilterCollectionWidget","showMore","setShowMore","f","onContextMenu","preventDefault","stopPropagation","rightClick","CreateCollectionFromUserDetails","dbKeys","all","g","allGames","values","CreateGameDataFromBggData","isArray","filtered","image","thumbnail","parseInt","yearpublished","parseFloat","playingtime","minage","maxplaytime","minplaytime","numplays","ranks","rank","bggrating","average","approxRank","suggested","poll","num","votes_best","votes_recommended","langPoll","l1","l2","l3","l4","l5","link","statistics","ratings","averageweight","usersrated","getIcon","min","max","color","N","bold","GameDataCard","src","alt","maxWidth","maxHeight","round","AddUsersComponent","activeClass","GamesComponent","sortBy","split","desc","up","down","b","location","search","decodeURIComponent","reduce","selectedUsers","activeStateDetails","dbKey","filteredCollection","remValues","startsWith","removeActiveFilters","remaining","Set","toRemove","val","delete","from","union","activeFilters","applyFilters","rem_active","add_active","q","pathname","App","exact","HomeComponent","CollectionPage","FilterCollectionComponent","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3d783a81.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst Configuration = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  function reset() {\r\n    dispatch({ type: \"RESET\" });\r\n    props.history.push('/');\r\n  }\r\n\r\n  return (<>\r\n    <div className=\"Main\">\r\n    <h1>Configuration</h1>\r\n    <button onClick={reset}>\r\n      Reset localstorage\r\n    </button>\r\n    </div>\r\n  </>);\r\n}\r\n\r\nexport default Configuration;","import React from 'react';\r\n\r\nconst CounterWidget = ({ count, setCounter }) => {\r\n  function increase() {\r\n    setCounter(count + 1);\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <p>i = {count}</p>\r\n      <button onClick={increase}>Increse</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CounterWidget;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useDispatch } from \"react-redux\";\r\nimport CounterWidget from './CounterWidget';\r\n\r\nconst CW = ({ count }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <>\r\n    <h1>Counter Widget</h1>\r\n    <CounterWidget count={count} setCounter={() => dispatch({ type: \"INCREMENT\" })} />\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  count: state.count\r\n});\r\n\r\nexport default connect(mapStateToProps)(CW);\r\n","import React, { useState } from 'react';\r\n\r\nconst AddUserWidget = ({ addUser }) => {\r\n  const [name, setName] = useState(\"\");  \r\n\r\n  let onClickAddUser = () => {\r\n    addUser(name);\r\n    setName(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <input value={name} onChange={e => setName(e.target.value)} /> <button onClick={onClickAddUser}>Add</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddUserWidget;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useDispatch } from \"react-redux\";\r\nimport AddUserWidget from './AddUserWidget';\r\n\r\nconst AddUserComponent = ({ users, history }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const addUser = (name) => {\r\n    dispatch({ type: \"ADDUSER\", value: name });\r\n    history.push('/collection/user/' + name);\r\n  }\r\n  return (\r\n    <>\r\n    <h1>Add data for a new user</h1>\r\n    <AddUserWidget addUser={addUser} />\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  users: state.users\r\n});\r\n\r\nexport default connect(mapStateToProps)(AddUserComponent);\r\n","import React from 'react';\r\n\r\nconst NotFound = () => <div className=\"Main\"><h1>Not found</h1></div>\r\n\r\nexport default NotFound;\r\n","function parseXml(xml) {\r\n   var dom = null;\r\n   if (window.DOMParser) {\r\n      try {\r\n         dom = (new DOMParser()).parseFromString(xml, \"text/xml\");\r\n      }\r\n      catch (e) { dom = null; }\r\n   }\r\n   else if (window.ActiveXObject) {\r\n      try {\r\n         dom = new window.ActiveXObject('Microsoft.XMLDOM');\r\n         dom.async = false;\r\n         if (!dom.loadXML(xml)) // parse error ..\r\n\r\n            window.alert(dom.parseError.reason + dom.parseError.srcText);\r\n      }\r\n      catch (e) { dom = null; }\r\n   }\r\n   else\r\n      alert(\"cannot parse xml string!\");\r\n   return dom;\r\n}\r\n\r\n/*\tThis work is licensed under Creative Commons GNU LGPL License.\r\n\r\n   License: http://creativecommons.org/licenses/LGPL/2.1/\r\n   Version: 0.9\r\n   Author:  Stefan Goessner/2006\r\n   Web:     http://goessner.net/ \r\n*/\r\nfunction xml2json(xml, tab) {\r\n   var X = {\r\n      toObj: function (xml) {\r\n         var o = {};\r\n         if (xml.nodeType === 1) {   // element node ..\r\n            if (xml.attributes.length)   // element with attributes  ..\r\n               for (var i = 0; i < xml.attributes.length; i++)\r\n                  o[\"@\" + xml.attributes[i].nodeName] = (xml.attributes[i].nodeValue || \"\").toString();\r\n            if (xml.firstChild) { // element has child nodes ..\r\n               var textChild = 0, cdataChild = 0, hasElementChild = false;\r\n               for (var n = xml.firstChild; n; n = n.nextSibling) {\r\n                  if (n.nodeType === 1) hasElementChild = true;\r\n                  else if (n.nodeType === 3 && n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) textChild++; // non-whitespace text\r\n                  else if (n.nodeType === 4) cdataChild++; // cdata section node\r\n               }\r\n               if (hasElementChild) {\r\n                  if (textChild < 2 && cdataChild < 2) { // structured element with evtl. a single text or/and cdata node ..\r\n                     X.removeWhite(xml);\r\n                     for (var nm = xml.firstChild; nm; nm = nm.nextSibling) {\r\n                        if (nm.nodeType === 3)  // text node\r\n                           o[\"#text\"] = X.escape(nm.nodeValue);\r\n                        else if (nm.nodeType === 4)  // cdata node\r\n                           o[\"#cdata\"] = X.escape(nm.nodeValue);\r\n                        else if (o[nm.nodeName]) {  // multiple occurence of element ..\r\n                           if (o[nm.nodeName] instanceof Array)\r\n                              o[nm.nodeName][o[nm.nodeName].length] = X.toObj(nm);\r\n                           else\r\n                              o[nm.nodeName] = [o[nm.nodeName], X.toObj(nm)];\r\n                        }\r\n                        else  // first occurence of element..\r\n                           o[nm.nodeName] = X.toObj(nm);\r\n                     }\r\n                  }\r\n                  else { // mixed content\r\n                     if (!xml.attributes.length)\r\n                        o = X.escape(X.innerXml(xml));\r\n                     else\r\n                        o[\"#text\"] = X.escape(X.innerXml(xml));\r\n                  }\r\n               }\r\n               else if (textChild) { // pure text\r\n                  if (!xml.attributes.length)\r\n                     o = X.escape(X.innerXml(xml));\r\n                  else\r\n                     o[\"#text\"] = X.escape(X.innerXml(xml));\r\n               }\r\n               else if (cdataChild) { // cdata\r\n                  if (cdataChild > 1)\r\n                     o = X.escape(X.innerXml(xml));\r\n                  else\r\n                     for (var na = xml.firstChild; na; na = na.nextSibling)\r\n                        o[\"#cdata\"] = X.escape(na.nodeValue);\r\n               }\r\n            }\r\n            if (!xml.attributes.length && !xml.firstChild) o = null;\r\n         }\r\n         else if (xml.nodeType === 9) { // document.node\r\n            o = X.toObj(xml.documentElement);\r\n         }\r\n         else\r\n            alert(\"unhandled node type: \" + xml.nodeType);\r\n         return o;\r\n      },\r\n      toJson: function (o, name, ind) {\r\n         var json = name ? (\"\\\"\" + name + \"\\\"\") : \"\";\r\n         if (o instanceof Array) {\r\n            for (var i = 0, n = o.length; i < n; i++)\r\n               o[i] = X.toJson(o[i], \"\", ind + \"\\t\");\r\n            json += (name ? \":[\" : \"[\") + (o.length > 1 ? (\"\\n\" + ind + \"\\t\" + o.join(\",\\n\" + ind + \"\\t\") + \"\\n\" + ind) : o.join(\"\")) + \"]\";\r\n         }\r\n         else if (o === null)\r\n            json += (name && \":\") + \"null\";\r\n         else if (typeof (o) === \"object\") {\r\n            var arr = [];\r\n            for (var m in o)\r\n               arr[arr.length] = X.toJson(o[m], m, ind + \"\\t\");\r\n            json += (name ? \":{\" : \"{\") + (arr.length > 1 ? (\"\\n\" + ind + \"\\t\" + arr.join(\",\\n\" + ind + \"\\t\") + \"\\n\" + ind) : arr.join(\"\")) + \"}\";\r\n         }\r\n         else if (typeof (o) === \"string\")\r\n            json += (name && \":\") + \"\\\"\" + o.toString().replace(/\"/g, \"\\\\\\\"\") + \"\\\"\";\r\n         else\r\n            json += (name && \":\") + o.toString();\r\n         return json;\r\n      },\r\n      innerXml: function (node) {\r\n         var s = \"\"\r\n         if (\"innerHTML\" in node)\r\n            s = node.innerHTML;\r\n         else {\r\n            var asXml = function (n) {\r\n               var s = \"\";\r\n               if (n.nodeType === 1) {\r\n                  s += \"<\" + n.nodeName;\r\n                  for (var i = 0; i < n.attributes.length; i++)\r\n                     s += \" \" + n.attributes[i].nodeName + \"=\\\"\" + (n.attributes[i].nodeValue || \"\").toString() + \"\\\"\";\r\n                  if (n.firstChild) {\r\n                     s += \">\";\r\n                     for (var c = n.firstChild; c; c = c.nextSibling)\r\n                        s += asXml(c);\r\n                     s += \"</\" + n.nodeName + \">\";\r\n                  }\r\n                  else\r\n                     s += \"/>\";\r\n               }\r\n               else if (n.nodeType === 3)\r\n                  s += n.nodeValue;\r\n               else if (n.nodeType === 4)\r\n                  s += \"<![CDATA[\" + n.nodeValue + \"]]>\";\r\n               return s;\r\n            };\r\n            for (var c = node.firstChild; c; c = c.nextSibling)\r\n               s += asXml(c);\r\n         }\r\n         return s;\r\n      },\r\n      escape: function (txt) {\r\n         return txt.replace(/[\\\\]/g, \"\\\\\\\\\")\r\n            .replace(/[\"]/g, '\"')\r\n            .replace(/[\\n]/g, '\\\\n')\r\n            .replace(/[\\r]/g, '\\\\r');\r\n      },\r\n      removeWhite: function (e) {\r\n         e.normalize();\r\n         for (var n = e.firstChild; n;) {\r\n            if (n.nodeType === 3) {  // text node\r\n               if (!n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) { // pure whitespace text node\r\n                  var nxt = n.nextSibling;\r\n                  e.removeChild(n);\r\n                  n = nxt;\r\n               }\r\n               else\r\n                  n = n.nextSibling;\r\n            }\r\n            else if (n.nodeType === 1) {  // element node\r\n               X.removeWhite(n);\r\n               n = n.nextSibling;\r\n            }\r\n            else                      // any other node\r\n               n = n.nextSibling;\r\n         }\r\n         return e;\r\n      }\r\n   };\r\n   if (xml.nodeType === 9) // document node\r\n      xml = xml.documentElement;\r\n   var json = X.toJson(X.toObj(X.removeWhite(xml)), xml.nodeName, \"\\t\");\r\n   return \"{\\n\" + tab + (tab ? json.replace(/\\t/g, tab) : json.replace(/\\t|\\n/g, \"\")) + \"\\n}\";\r\n}\r\n\r\nexport const convertXml2Json = (text) => {\r\n   var xml = parseXml(text);\r\n   var json = xml2json(xml, \"\");\r\n   return json;\r\n}\r\n\r\nexport default convertXml2Json;\r\n","var indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB || window.shimIndexedDB;\r\n\r\nexport const DB = \"BBG_DB\";\r\nexport const IMAGES = \"BGG_DB_IMAGES\"\r\nexport const DETAILS = \"BGG_DB_DETAILS\"\r\nexport const CACHE = \"BGG_DB_CACHE\"\r\n\r\nfunction connect(name, version = 4) {\r\n    return new Promise((resolve, reject) => {\r\n        const request = indexedDB.open(name, version);\r\n        request.onupgradeneeded = function (event) {\r\n            const db = event.target.result;\r\n            db.createObjectStore(IMAGES, { keyPath: \"id\" });\r\n            db.createObjectStore(DETAILS, { keyPath: \"id\" });\r\n            db.createObjectStore(CACHE, { keyPath: \"id\" });\r\n        };;\r\n        request.onsuccess = () => resolve(request.result);\r\n        request.onerror = () => reject(request.error);\r\n        request.onblocked = () => { console.log('blocked'); };\r\n    });\r\n}\r\n\r\nfunction add_to_db(conn, table, key, value) {\r\n    return new Promise((resolve, reject) => {\r\n        const tx = conn.transaction(table, \"readwrite\");\r\n        const store = tx.objectStore(table);\r\n        const request = store.put({ id: key, data: value });\r\n        request.onsuccess = () => resolve(request.result);\r\n        request.onerror = () => reject(request.error);\r\n    });\r\n}\r\n\r\nfunction get_from_db(conn, table, key) {\r\n    return new Promise((resolve, reject) => {\r\n        const tx = conn.transaction(table, \"readonly\");\r\n        const store = tx.objectStore(table);\r\n        const request = store.get(key);\r\n        request.onsuccess = () => resolve(request && request.result && request.result.data);\r\n        request.onerror = () => reject(request.error);\r\n    });\r\n}\r\n\r\nexport const add = async (table, key, data) => {\r\n    let conn;\r\n    try {\r\n        conn = await connect(DB);\r\n        await add_to_db(conn, table, key, data);\r\n    } catch (exception) {\r\n        console.error(exception);\r\n    } finally {\r\n        if (conn)\r\n            conn.close();\r\n    }\r\n}\r\n\r\nexport const get = async (table, key) => {\r\n    let conn;\r\n    try {\r\n        conn = await connect(DB);\r\n        return await get_from_db(conn, table, key);\r\n    } catch (exception) {\r\n        console.error(exception);\r\n    } finally {\r\n        if (conn)\r\n            conn.close();\r\n    }\r\n}\r\n\r\nexport default { IMAGES, DETAILS, CACHE, add, get };","import parseXml from './xml2json';\r\nimport db from '../utilities/db';\r\n\r\nvar bgg_config = {\r\n  cachePrefix: 'Cache_',\r\n  baseUrl: \"https://boardgamegeek.com/xmlapi2/\"\r\n};\r\n\r\nvar DELAY = 350;\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nconst fetchUntil = (url, retries = 5, mult = 2.5) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    for (var retryN = 0; retryN < retries; retryN++) {\r\n      try {\r\n        var result = await fetch(url);\r\n        if (result.status === 200) {\r\n          resolve(result);\r\n          return;\r\n        }\r\n        else {\r\n          DELAY += 25;\r\n          await sleep(DELAY * Math.pow(mult, retryN));\r\n          continue;\r\n        }\r\n      }\r\n      catch {\r\n        DELAY += 25;\r\n        await sleep(DELAY * Math.pow(mult, retryN));\r\n        continue;\r\n      }\r\n    }\r\n    reject();\r\n  });\r\n}\r\n\r\nconst bgg = async (path, queryParams, refresh = false) => {\r\n  let url = bgg_config.baseUrl + path;\r\n  if (queryParams) {\r\n    var qs = Object.entries(queryParams).map( ([key, value]) => key + \"=\" + value);\r\n    if (qs.length && url.indexOf('?') === -1) {\r\n      url = url + \"?\";\r\n    }\r\n\r\n    url = url + qs.join('&');\r\n  }\r\n\r\n  let cache = await db.get(db.CACHE, bgg_config.cachePrefix + url);\r\n  if (cache && !refresh) {\r\n    return Promise.resolve({ \r\n      data: JSON.parse(cache),\r\n      cache: true\r\n    });\r\n  }\r\n\r\n  return fetchUntil(url)\r\n    .then(x => x.text())\r\n    .then(x => parseXml(x))\r\n    .then(x => {\r\n      var obj = JSON.parse(x);\r\n      db.add(db.CACHE, bgg_config.cachePrefix + url, x);\r\n      return { data: obj, cache: false };\r\n    });\r\n};\r\n\r\nexport default bgg;\r\n","import React, { useState, useEffect } from 'react';\r\nimport bgg from '../bgg';\r\nimport db from '../utilities/db'\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst DELAY = 400;\r\n\r\nfunction toDataURL(src, outputFormat) {\r\n  var img = new Image();\r\n  return new Promise(resolve => {\r\n    img.crossOrigin = 'anonymous';\r\n    img.onload = function () {\r\n      var canvas = document.createElement('CANVAS');\r\n      var ctx = canvas.getContext('2d');\r\n      var dataURL;\r\n      canvas.height = this.naturalHeight;\r\n      canvas.width = this.naturalWidth;\r\n      ctx.drawImage(this, 0, 0);\r\n      dataURL = canvas.toDataURL(outputFormat);\r\n      resolve(dataURL);\r\n    };\r\n    img.src = src;\r\n    if (img.complete || img.complete === undefined) {\r\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\r\n      img.src = src;\r\n    }\r\n  });\r\n}\r\n\r\nconst GetBggDataWidget = ({ name, save, history }) => {\r\n  const [data, setData] = useState(null);\r\n  const [details, setDetails] = useState({});\r\n  const [images, setImages] = useState({});\r\n\r\n  const dispatch = useDispatch();\r\n  \r\n  useEffect(() => {\r\n    setData(null);\r\n    setDetails({});\r\n    setImages({});\r\n  }, [name]);\r\n\r\n  useEffect(() => {\r\n    if (data && Object.entries(details).length === 0) {\r\n      getDetails();\r\n    }\r\n  }, [data, details]);\r\n\r\n  /*\r\n    useEffect(() => {\r\n    let isMounted = true; // track whether component is mounted\r\n\r\n    request.get(url)\r\n      .then(result => {\r\n        if (isMounted) {\r\n          setState(result);\r\n        }\r\n      });\r\n\r\n    return () => {\r\n      // clean up\r\n      isMounted = false;\r\n    };\r\n    // Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.\r\n  }, []); // only on \"didMount\"\r\n  */\r\n\r\n  let saveToStorage = () => {\r\n    let games = data.items.item.map(x => {\r\n      return ({\r\n        ...x,\r\n        ...details[x[\"@objectid\"]].items.item\r\n      });\r\n    });\r\n    console.log(games);\r\n    save(games);\r\n    history.push('/filter/' + name);\r\n  };\r\n\r\n  let onClickFetch = () => {\r\n    bgg('collection', {\r\n      username: name,\r\n      subtype: \"boardgame\",\r\n      excludesubtype: \"boardgameexpansion\",\r\n      stats: 1,\r\n      own: 1\r\n    })\r\n      .then(function (x) {\r\n        setData(x.data);\r\n      });\r\n  };\r\n\r\n  let refreshUser = () => {\r\n    bgg('collection', {\r\n      username: name,\r\n      subtype: \"boardgame\",\r\n      excludesubtype: \"boardgameexpansion\",\r\n      stats: 1,\r\n      own: 1\r\n    }, true)\r\n      .then(function (x) {\r\n        setData(null);\r\n        setDetails({});\r\n        setImages({});\r\n\r\n        dispatch({ type: \"SET_ACTIVE\", value: [] });\r\n        setData(x.data);        \r\n      });\r\n  };\r\n\r\n  let getNextDetails = (list) => {\r\n    let id = list[0];\r\n    if (!id) {\r\n      // if (details) saveToStorage();\r\n      return;\r\n    }\r\n\r\n    bgg('thing', {\r\n      id,\r\n      stats: 1\r\n    })\r\n      .then(function (results) {\r\n\r\n        setDetails(state => {\r\n          let newDetails = { ...state };\r\n          newDetails[id] = results.data;\r\n          return newDetails;\r\n        });\r\n\r\n        setTimeout(() => getNextDetails(list.slice(1)), results.cache ? 0 : DELAY);\r\n      });\r\n  }\r\n\r\n  let getNextImages = async (list) => {\r\n    let url = list[0];\r\n    if (!url) return;\r\n\r\n    var cached = await db.get(db.IMAGES, url);\r\n\r\n    if (cached) {\r\n      setImages(state => {\r\n        let newDetails = { ...state };\r\n        newDetails[url] = url;\r\n        return newDetails;\r\n      });\r\n      getNextImages(list.slice(1));\r\n    }\r\n    else {\r\n      toDataURL(url)\r\n        .then(function (src) {\r\n          db.add(db.IMAGES, url, src);\r\n\r\n          setImages(state => {\r\n            let newDetails = { ...state };\r\n            newDetails[url] = url;\r\n            return newDetails;\r\n          });\r\n\r\n          setTimeout(() => getNextImages(list.slice(1)), DELAY);\r\n        });\r\n    }\r\n  }\r\n\r\n  let getDetails = async () => {\r\n    let list = [...data.items.item].map(x => x['@objectid']);\r\n    getNextDetails(list);\r\n  };\r\n\r\n  let getImages = async () => {\r\n    let list = [...data.items.item].map(x => x['image']);\r\n    getNextImages(list);\r\n  };\r\n\r\n  if (!data) {\r\n    onClickFetch();\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {details && data && (<pre>Loading data for games {Object.keys(details).length} of {data.items.item.length}</pre>)}\r\n\r\n      {data && details && <button onClick={saveToStorage}>Save</button>}\r\n      \r\n      {data && <div style={{ marginTop: \"30px\" }}><button onClick={refreshUser}>Refresh data</button></div>}\r\n    </div>\r\n  );\r\n  /*\r\n   <button onClick={onClickFetch}>Fetch</button> \r\n        {data && <button onClick={getDetails}>Get All Details</button>}\r\n        \r\n      {data && details && <button onClick={getImages}>Get All Images</button>}\r\n      {images && data && (<pre>Images {Object.keys(images).length} of {data.items.item.length}</pre>)}\r\n      {data && (<pre>{JSON.stringify(data, null, 4)}</pre>)}\r\n  */\r\n}\r\n\r\nexport default GetBggDataWidget;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport NotFound from '../ErrorPages';\r\nimport GetBggDataWidget from './GetBggDataWidget';\r\n\r\nconst ViewUserComponent = ({ match, users, dispatch, history }) => {\r\n  let [id, setId] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setId(match.params.id);\r\n  }, [match]);\r\n\r\n  var user = users[id];\r\n  if (!user) {\r\n    return <NotFound />\r\n  }\r\n\r\n  const delUser = () => {\r\n    dispatch({ type: \"DELETE_USER\", value: id });\r\n    history.replace('/collection/add');\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <h1>{user.name}</h1>\r\n    <GetBggDataWidget history={history} save={(value) => dispatch({ type: \"SAVE\", user: id, value })} name={user.name} />\r\n\r\n    <div style={{ marginTop: \"30px\" }}><button onClick={delUser}>Remove user</button></div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  users: state.users\r\n});\r\n\r\nexport default connect(mapStateToProps)(ViewUserComponent);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink, Switch, Route } from 'react-router-dom'\r\nimport CW from './CounterWidget/CW';\r\nimport AddUserComponent from './AddUserComponent/AddUserComponent';\r\nimport ViewUserComponent from './ViewUserComponent/ViewUserComponent';\r\nimport NotFound from './ErrorPages';\r\n\r\nconst MainPage = ({ history }) => {\r\n  //if (Object.keys(users).length === 0) {\r\n    history.replace('/collection/add');\r\n  //}\r\n\r\n  return (<div className=\"Main\"><h1>Users</h1></div>);\r\n}\r\n\r\nconst UserList = ({ list }) => {\r\n  return (\r\n    <ul>\r\n      {Object.entries(list).map( ([key, value]) => (\r\n      <li key={key}>\r\n        <NavLink activeClassName='active' to={\"/collection/user/\" + value.name}>\r\n          <span className='title'>{value.name}</span>           \r\n        </NavLink>\r\n      </li>\r\n      ))}\r\n      \r\n      <li key=\"add\" style={{ borderTop: \"1px solid gray\" }}>\r\n      <NavLink activeClassName='active' to=\"/collection/add\">\r\n        <span className='title'>+ Add user</span>           \r\n      </NavLink>\r\n      </li>\r\n\r\n    </ul>\r\n  );\r\n}\r\n\r\nconst CollectionPage = ({ users }) => {\r\n  return (\r\n    <>\r\n    <div className='SideBar'>\r\n      <UserList list={users} />\r\n    </div>\r\n    <div className=\"Main\">\r\n      <Switch>\r\n        <Route path=\"/collection/add\" component={AddUserComponent} />\r\n        <Route path=\"/collection/user/:id\" component={ViewUserComponent} />\r\n        <Route path=\"/collection/cw\" component={CW} />\r\n        <Route path=\"/collection\" component={MainPage} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(state => ({\r\n  users: state.users,\r\n}))(CollectionPage);\r\n","const initialState = {\r\n    stateVersion: 0,\r\n    count: 0,\r\n    users: {},\r\n    active: [],\r\n    collection: [],\r\n    details: {},\r\n};\r\n\r\nexport default initialState;","import initialState from './state';\r\nimport db from '../modules/utilities/db'\r\n\r\nconst reducer = (state, action) => {\r\n    switch(action.type) {\r\n      case 'INCREMENT':\r\n        return {\r\n          ...state,\r\n          count: state.count + 1\r\n        };\r\n                              \r\n        case 'RESET':\r\n          localStorage.clear();\r\n          indexedDB.deleteDatabase(db.DB);\r\n          return initialState;\r\n\r\n        case 'ADDUSER':\r\n          let newState = {...state, count: state.count + 1, users: { ...state.users } };\r\n          newState.users[action.value] = newState.users[action.value] || { name: action.value, id: newState.count };\r\n          return newState;\r\n\r\n        case \"DELETE_USER\":\r\n          let delState = {...state, users: { ...state.users } };\r\n          delete delState.users[action.value];\r\n          return delState;\r\n\r\n        case \"SET_ACTIVE\":\r\n          return { ...state, active: action.value };\r\n\r\n        case \"SET_COLLECTION\":\r\n          return { ...state, collection: action.value };\r\n\r\n        case \"SET_SORT\":\r\n          return { ...state, sort: action.value };\r\n\r\n        case \"SAVE\":\r\n          let key = \"COLLECTION_\" + action.user;\r\n          db.add(db.DETAILS, key, action.value);\r\n          let sstate = { ...state };\r\n          sstate.details[action.user] = key;\r\n          return sstate;\r\n          \r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  export { reducer };","import React from 'react';\r\nimport { reducer as reduceState } from './reducer';\r\nimport initialState from './state';\r\nimport { createStore } from 'redux';\r\n\r\nconst LOCALSTORAGEKEY = \"BGG-COLLECTION\";\r\n\r\nconst getInitialState = () => {\r\n  var data = localStorage.getItem(LOCALSTORAGEKEY);\r\n  if (data) {\r\n    try {\r\n      return {\r\n        ...initialState,\r\n        ...JSON.parse(data)\r\n      };\r\n    } catch {}\r\n  }\r\n\r\n  return initialState;\r\n} \r\n\r\nexport const reducer = (state = getInitialState(), action) => {\r\n  const newState = reduceState(state, action);\r\n  localStorage.setItem(LOCALSTORAGEKEY, JSON.stringify(newState));\r\n  return newState;\r\n}\r\n\r\nexport const context = React.createContext(null);\r\n\r\nexport const store = createStore(reducer);\r\n\r\nexport default { store, reducer, context };\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nconst HomeComponent = (props) => {\r\n  if (Object.keys(props.users).length === 0) {\r\n    props.history.replace('/collection');\r\n  }\r\n\r\n  if (Object.keys(props.users).length > 0) {\r\n    props.history.replace('/filter');\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <div className=\"Main\">\r\n      <h1>Home</h1>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  users: state.users\r\n});\r\n\r\nexport default connect(mapStateToProps)(HomeComponent);\r\n","import React, { useState } from 'react';\r\n\r\nexport const AllFilters = {\r\n  \"p\": {\r\n    basic: true,\r\n    title: \"Quick filter on # players\",\r\n    options: [\r\n      { value: '2', action: (list) => list.filter(x => x.minplayers <= 2 && x.maxplayers >= 2 && (x.suggestedPlayers.best.indexOf(\"2\") > -1 || x.suggestedPlayers.recommended.indexOf(\"2\") > -1) && x.suggestedPlayers.avoid.indexOf(\"2\") === -1) },\r\n      { value: '3', action: (list) => list.filter(x => x.minplayers <= 3 && x.maxplayers >= 3 && (x.suggestedPlayers.best.indexOf(\"3\") > -1 || x.suggestedPlayers.recommended.indexOf(\"3\") > -1) && x.suggestedPlayers.avoid.indexOf(\"3\") === -1) },\r\n      { value: '4', action: (list) => list.filter(x => x.minplayers <= 4 && x.maxplayers >= 4 && (x.suggestedPlayers.best.indexOf(\"4\") > -1 || x.suggestedPlayers.recommended.indexOf(\"4\") > -1) && x.suggestedPlayers.avoid.indexOf(\"4\") === -1) },\r\n      { value: '5', action: (list) => list.filter(x => x.minplayers <= 5 && x.maxplayers >= 5 && (x.suggestedPlayers.best.indexOf(\"5\") > -1 || x.suggestedPlayers.recommended.indexOf(\"5\") > -1) && x.suggestedPlayers.avoid.indexOf(\"5\") === -1) },\r\n      { value: '6', action: (list) => list.filter(x => x.minplayers <= 6 && x.maxplayers >= 6 && (x.suggestedPlayers.best.indexOf(\"6\") > -1 || x.suggestedPlayers.recommended.indexOf(\"6\") > -1) && x.suggestedPlayers.avoid.indexOf(\"6\") === -1) },\r\n    ]\r\n  },\r\n  \"brain\": {\r\n    basic: true,\r\n    title: \"Quick filter on brainload\",\r\n    options: [\r\n      { value: \"easy\", name: 'Easy', action: (list) => list.filter(x => x.playtime < 90 && x.weight <= 2.5) },\r\n      { value: \"mediun\", name: 'Medium', action: (list) => list.filter(x => x.playtime < 180 && x.weight >= 2 && x.weight <= 3.2 && x.group.indexOf(\"Children's Game\") === -1) },\r\n      { value: \"heavy\", name: 'Heavy', action: (list) => list.filter(x => x.playtime > 60 && x.weight >= 3.2 && x.group.indexOf(\"Children's Game\") === -1) },   \r\n     ]\r\n  },\r\n  \"style\": {\r\n    basic: true,\r\n    title: \"Quick filter on style\",\r\n    options: [\r\n      { value: \"war\", name: 'War', action: (list) => list.filter(x => \r\n        x.group.indexOf(\"Party Game\") === -1 &&\r\n        x.group.indexOf(\"Storytelling\") === -1 &&\r\n        x.group.indexOf(\"Wargame\") > -1\r\n        ) },\r\n      { value: \"party\", name: 'Party', action: (list) => list.filter(x => \r\n        x.group.indexOf(\"Party Game\") > -1 ||\r\n        x.group.join(',').includes(\"Dexterity\")\r\n        ) },\r\n      { value: \"euro\", name: 'Euro', action: (list) => list.filter(x => \r\n        x.group.indexOf(\"Party Game\") === -1 &&\r\n        x.group.indexOf(\"Real-time\") === -1 &&\r\n        x.group.indexOf(\"Bluffing\") === -1 &&\r\n        x.group.indexOf(\"Role Playing\") === -1 &&\r\n        x.group.indexOf(\"Traitor Game\") === -1 &&\r\n        x.group.indexOf(\"Push Your Luck\") === -1 &&\r\n        x.group.indexOf(\"Storytelling\") === -1 &&\r\n        x.group.indexOf(\"Take That\") === -1\r\n        ) },   \r\n     ]\r\n  },\r\n  \"length\": {\r\n    title: \"Game length\",\r\n    options: [\r\n      { value: 'short', name: 'Short', action: (list) => list.filter(x => x.playtime < 60) },\r\n      { value: 'medium', name: 'Medium', action: (list) => list.filter(x => x.playtime > 45 && x.playtime < 120) },\r\n      { value: 'long', name: 'Long', action: (list) => list.filter(x => x.playtime > 100) },\r\n    ]\r\n  },\r\n  \"players\": {\r\n    title: \"Players\",\r\n    options: [\r\n      { value: '1', action: (list) => list.filter(x => x.minplayers <= 1 && x.maxplayers >= 1) },\r\n      { value: '2', action: (list) => list.filter(x => x.minplayers <= 2 && x.maxplayers >= 2) },\r\n      { value: '3', action: (list) => list.filter(x => x.minplayers <= 3 && x.maxplayers >= 3) },\r\n      { value: '4', action: (list) => list.filter(x => x.minplayers <= 4 && x.maxplayers >= 4) },\r\n      { value: '5', action: (list) => list.filter(x => x.minplayers <= 5 && x.maxplayers >= 5) },\r\n      { value: '6', action: (list) => list.filter(x => x.minplayers <= 6 && x.maxplayers >= 6) },\r\n      { value: '7+', action: (list) => list.filter(x => x.maxplayers >= 7) },\r\n    ]\r\n  },\r\n  \"weight\": {\r\n    title: \"Game weight\",\r\n    options: [\r\n      { value: 'light', name: 'Light', action: (list) => list.filter(x => x.weight <= 2) },\r\n      { value: 'medlight', name: 'Medium Light', action: (list) => list.filter(x => x.weight >= 1.5 && x.weight <= 2.5) },\r\n      { value: 'med', name: 'Medium', action: (list) => list.filter(x => x.weight >= 2 && x.weight <= 3.5) },\r\n      { value: 'medheavy', name: 'Medium Heavy', action: (list) => list.filter(x => x.weight >= 3 && x.weight <= 4.5) },\r\n      { value: 'heavy', name: 'Heavy', action: (list) => list.filter(x => x.weight >= 4) },\r\n    ]\r\n  },\r\n  \"year\": {\r\n    title: \"Year published\",\r\n    options: [\r\n      { value: '2022', action: (list) => list.filter(x => x.year >= 2022 && x.year <= 2022) },\r\n      { value: '2021', action: (list) => list.filter(x => x.year >= 2021 && x.year <= 2021) },\r\n      { value: '2020', action: (list) => list.filter(x => x.year >= 2020 && x.year <= 2020) },\r\n      { value: '2015-2019', action: (list) => list.filter(x => x.year >= 2015 && x.year <= 2019) },\r\n      { value: '2010-2015', action: (list) => list.filter(x => x.year >= 2010 && x.year <= 2015) },\r\n      { value: '2000-2009', action: (list) => list.filter(x => x.year >= 2000 && x.year <= 2009) },\r\n      { value: '1990-1999', action: (list) => list.filter(x => x.year >= 1990 && x.year <= 1999) },\r\n      { value: '0000-1990', action: (list) => list.filter(x => x.year <= 1990) },\r\n    ]\r\n  },\r\n  \"played\": {\r\n    title: \"Played\",\r\n    options: [\r\n      { value: 'Rated', action: (list) => list.filter(x => x.rating >= 1) },\r\n      { value: 'Has plays', action: (list) => list.filter(x => x.plays > 0) },\r\n    ]\r\n  },\r\n  \"popularity\": {\r\n    title: \"Popularity\",\r\n    options: [\r\n      { value: 'High', action: (list) => list.filter(x => x.numowned >= 75000) },\r\n      { value: 'Medium', action: (list) => list.filter(x => x.numowned >= 35000 && x.numowned < 75000) },\r\n      { value: 'Low', action: (list) => list.filter(x => x.numowned > 10000 && x.numowned < 35000) },\r\n      { value: 'Very Low', action: (list) => list.filter(x => x.numowned < 10000) },\r\n    ]\r\n  },\r\n  \"best\": {\r\n    title: \"Best at\",\r\n    options: [\r\n      { value: '1', action: (list) => list.filter(x => x.suggestedPlayers.best.indexOf(\"1\") > -1) },\r\n      { value: '2', action: (list) => list.filter(x => x.suggestedPlayers.best.indexOf(\"2\") > -1) },\r\n      { value: '3', action: (list) => list.filter(x => x.suggestedPlayers.best.indexOf(\"3\") > -1) },\r\n      { value: '4', action: (list) => list.filter(x => x.suggestedPlayers.best.indexOf(\"4\") > -1) },\r\n      { value: '5', action: (list) => list.filter(x => x.suggestedPlayers.best.indexOf(\"5\") > -1) },\r\n      { value: '6', action: (list) => list.filter(x => x.suggestedPlayers.best.indexOf(\"6\") > -1) },\r\n      { value: '7+', action: (list) => list.filter(x => x.suggestedPlayers.best.indexOf(\"7\") > -1) },\r\n    ]\r\n  },\r\n  \"rec\": {\r\n    title: \"Recommended at\",\r\n    options: [\r\n      { value: '1', action: (list) => list.filter(x => x.suggestedPlayers.recommended.indexOf(\"1\") > -1) },\r\n      { value: '2', action: (list) => list.filter(x => x.suggestedPlayers.recommended.indexOf(\"2\") > -1) },\r\n      { value: '3', action: (list) => list.filter(x => x.suggestedPlayers.recommended.indexOf(\"3\") > -1) },\r\n      { value: '4', action: (list) => list.filter(x => x.suggestedPlayers.recommended.indexOf(\"4\") > -1) },\r\n      { value: '5', action: (list) => list.filter(x => x.suggestedPlayers.recommended.indexOf(\"5\") > -1) },\r\n      { value: '6', action: (list) => list.filter(x => x.suggestedPlayers.recommended.indexOf(\"6\") > -1) },\r\n      { value: '7+', action: (list) => list.filter(x => x.suggestedPlayers.recommended.indexOf(\"7\") > -1) },\r\n    ]\r\n  },\r\n  \"avoid\": {\r\n    title: \"Avoid at\",\r\n    options: [\r\n      { value: '1', action: (list) => list.filter(x => x.suggestedPlayers.avoid.indexOf(\"1\") > -1) },\r\n      { value: '2', action: (list) => list.filter(x => x.suggestedPlayers.avoid.indexOf(\"2\") > -1) },\r\n      { value: '3', action: (list) => list.filter(x => x.suggestedPlayers.avoid.indexOf(\"3\") > -1) },\r\n      { value: '4', action: (list) => list.filter(x => x.suggestedPlayers.avoid.indexOf(\"4\") > -1) },\r\n      { value: '5', action: (list) => list.filter(x => x.suggestedPlayers.avoid.indexOf(\"5\") > -1) },\r\n      { value: '6', action: (list) => list.filter(x => x.suggestedPlayers.avoid.indexOf(\"6\") > -1) },\r\n      { value: '7+', action: (list) => list.filter(x => x.suggestedPlayers.avoid.indexOf(\"7\") > -1) },\r\n    ]\r\n  },\r\n  \"type\": {\r\n    title: \"Game Type\",\r\n    options: [\r\n      { value: 'party', name: 'Party Game', action: (list) => list.filter(x => x.group.indexOf(\"Party Game\") > -1) },\r\n      { value: 'Miniatures', name: 'Miniatures', action: (list) => list.filter(x => x.group.indexOf(\"Miniatures\") > -1) },\r\n      { value: 'Real-time', name: 'Real-time', action: (list) => list.filter(x => x.group.indexOf(\"Real-time\") > -1) },\r\n      { value: 'Educational', name: 'Educational', action: (list) => list.filter(x => x.group.indexOf(\"Educational\") > -1) },\r\n      { value: 'child', name: \"Children's Game\", action: (list) => list.filter(x => x.group.indexOf(\"Children's Game\") > -1) },\r\n      { value: 'Wargame', name: 'Wargame', action: (list) => list.filter(x => x.group.indexOf(\"Wargame\") > -1) },\r\n      { value: 'Dice', name: 'Dice', action: (list) => list.filter(x => x.group.indexOf(\"Dice\") > -1) },\r\n    ]\r\n  },\r\n  \"category\": {\r\n    title: \"Game Category\",\r\n    options: [\r\n      { value: 'bluff', name: 'Bluffing', action: (list) => list.filter(x => x.group.indexOf(\"Bluffing\") > -1) },\r\n      { value: 'neg', name: 'Negotiation', action: (list) => list.filter(x => x.group.indexOf(\"Negotiation\") > -1) },\r\n      { value: 'Dexterity', name: 'Dexterity', action: (list) => list.filter(x => x.group.join(',').includes(\"Dexterity\")) },\r\n      { value: 'Deduction', name: 'Deduction', action: (list) => list.filter(x => x.group.indexOf(\"Deduction\") > -1) },\r\n      { value: 'Memory', name: 'Memory', action: (list) => list.filter(x => x.group.indexOf(\"Memory\") > -1) },\r\n      { value: 'Political', name: 'Political', action: (list) => list.filter(x => x.group.indexOf(\"Political\") > -1) },\r\n      { value: 'Role Playing', name: 'Role Playing', action: (list) => list.filter(x => x.group.indexOf(\"Role Playing\") > -1) },\r\n      { value: 'Real-Time', name: 'Real-Time', action: (list) => list.filter(x => x.group.indexOf(\"Real-Time\") > -1) },\r\n    ]\r\n  },\r\n  \"team\": {\r\n    title: \"Player interaction\",\r\n    options: [\r\n      { value: 'team', name: 'Team-Based', action: (list) => list.filter(x => x.group.indexOf(\"Team-Based Game\") > -1) },\r\n      { value: 'traitor', name: 'Traitor', action: (list) => list.filter(x => x.group.indexOf(\"Traitor Game\") > -1) },\r\n      { value: 'hidden', name: 'Hidden Roles', action: (list) => list.filter(x => x.group.indexOf(\"Hidden Roles\") > -1) },\r\n      { value: 'Negotiation', name: 'Negotiation', action: (list) => list.filter(x => x.group.indexOf(\"Negotiation\") > -1) },\r\n      { value: 'Trading', name: 'Trading', action: (list) => list.filter(x => x.group.indexOf(\"Trading\") > -1) },\r\n      { value: 'Player Elimination', name: 'Player Elimination', action: (list) => list.filter(x => x.group.indexOf(\"Player Elimination\") > -1) },\r\n      { value: 'Cooperative Game', name: 'Cooperative', action: (list) => list.filter(x => x.group.indexOf(\"Cooperative Game\") > -1) },\r\n    ]\r\n  },\r\n  \"mechanic\": {\r\n    title: \"Game Mechanic\",\r\n    options: [\r\n      { value: 'Auction', name: 'Auction', action: (list) => list.filter(x => x.group.join(',').includes(\"Auction\")) },\r\n      { value: 'Victory Points', name: 'Victory Points', action: (list) => list.filter(x => x.group.join(',').includes(\"Victory Points\")) },\r\n      { value: 'Drafting', name: 'Drafting', action: (list) => list.filter(x => x.group.join(',').includes(\"Drafting\")) },\r\n      { value: 'Worker Placement', name: 'Worker Placement', action: (list) => list.filter(x => x.group.join(',').includes(\"Worker Placement\")) },\r\n      { value: 'Area Majority', name: 'Area Majority', action: (list) => list.filter(x => x.group.join(',').includes(\"Area Majority\")) },\r\n      { value: 'Pick-up and Deliver', name: 'Pick-up and Deliver', action: (list) => list.filter(x => x.group.indexOf(\"Pick-up and Deliver\") > -1) },\r\n      { value: 'Dice Rolling', name: 'Dice Rolling', action: (list) => list.filter(x => x.group.indexOf(\"Dice Rolling\") > -1) },\r\n      { value: 'Push Your Luck', name: 'Push Your Luck', action: (list) => list.filter(x => x.group.indexOf(\"Push Your Luck\") > -1) },\r\n      { value: 'Tile Placement', name: 'Tile Placement', action: (list) => list.filter(x => x.group.indexOf(\"Tile Placement\") > -1) },\r\n      { value: 'take', name: 'Take-that', action: (list) => list.filter(x => x.group.indexOf(\"Take That\") > -1) },\r\n      { value: 'deckbuild', name: 'Deck, Bag, and Pool Building', action: (list) => list.filter(x => x.group.join(',').includes(\" Building\")) },\r\n    ]\r\n  },\r\n  \"setup\": {\r\n    default: [\"-Legacy Game\", \"-Campaign Game\"],\r\n    title: \"Game Setup\",\r\n    options: [\r\n      { value: 'Simultaneous', name: 'Sixmultaneous Action Selection', action: (list) => list.filter(x => x.group.indexOf(\"Simultaneous Action Selection\") > -1) },\r\n      { value: 'Deck Construction', name: 'Deck Construction', action: (list) => list.filter(x => x.group.indexOf(\"Deck Construction\") > -1) },\r\n      { value: 'Variable Player Powers', name: 'Variable Player Powers', action: (list) => list.filter(x => x.group.indexOf(\"Variable Player Powers\") > -1) },\r\n      { value: 'Legacy Game', name: 'Legacy Game', action: (list) => list.filter(x => x.group.indexOf(\"Legacy Game\") > -1) },\r\n      { value: 'Campaign Game', name: 'Campaign/Scenario Game', action: (list) => list.filter(x => x.group.join(',').includes(\"Campaign Game\")) },\r\n    ]\r\n  },\r\n  \"lang\": {\r\n    title: \"Langauge Dependency\",\r\n    options: [\r\n      { value: \"1\", name: 'No necessary in-game text', action: (list) => list.filter(x => x.language <= 2) },\r\n      { value: \"2\", name: 'Some necessary text - easily memorized or small crib sheet', action: (list) => list.filter(x => x.language > 1.75 && x.language < 2.75) },\r\n      { value: \"3\", name: 'Moderate in-game text - needs crib sheet or paste ups', action: (list) => list.filter(x => x.language > 2.5 && x.language < 3.75) },\r\n      { value: \"4\", name: 'Extensive use of text - massive conversion needed to be playable', action: (list) => list.filter(x => x.language > 3.5 && x.language < 4.33) },\r\n      { value: \"5\", name: 'Unplayable in another language', action: (list) => list.filter(x => x.language >= 4) },\r\n    ]\r\n  },\r\n};\r\n\r\nconst toggle_filter = (key, value, filters, change) => {\r\n  let newFilter = { ...filters };\r\n\r\n  if (isActiveFilter(newFilter, key, value)) {\r\n    var v = value.replace(/^-/g, '');\r\n    let prev = newFilter[key].find(x => x === v || x === \"-\"+v);\r\n    newFilter[key] = newFilter[key].filter(x => x !== prev);\r\n    if (prev !== value) newFilter[key].push(value);\r\n    if (newFilter[key].length === 0) {\r\n      delete newFilter[key];\r\n    }\r\n  }\r\n  else {\r\n    if (!newFilter[key]) newFilter[key] = [];\r\n    newFilter[key].push(value);\r\n  }\r\n\r\n  let queryString = Object.entries(newFilter).map(x => x[0] + \"=\" + encodeURIComponent(x[1].join(','))).join('&');\r\n  change(queryString);\r\n};\r\n\r\nexport const applyFilters = (collection, filters) => {\r\n  let list = [...collection];\r\n  for (const [key, values] of Object.entries(filters)) {\r\n    let group = AllFilters[key];\r\n\r\n    let remValues = values.filter(x => x.startsWith(\"-\")).map(x => x.replace('-',''));\r\n    let removeActiveFilters = group.options.filter(x => x.value && remValues.indexOf(x.value) > -1);\r\n    if (removeActiveFilters.length) {\r\n      let remaining = new Set(list);\r\n      for (let f of removeActiveFilters) {\r\n        let toRemove = f.action(list);\r\n        for (let val of toRemove) remaining.delete(val);\r\n      }\r\n      list = Array.from(remaining.values());\r\n    }\r\n\r\n    let union = new Set();\r\n    let activeFilters = group.options.filter(x => values.indexOf(x.value) > -1);\r\n    if (activeFilters.length) {\r\n      for (let f of activeFilters) {\r\n        let filtered = f.action(list);\r\n        for (let val of filtered) union.add(val);\r\n      }\r\n      list = Array.from(union.values());\r\n    }\r\n  }\r\n  return list;\r\n};\r\n\r\nexport const isActiveFilter = (filters, key, value) => {\r\n  if (!filters[key]) return false;\r\n  var v = value.replace(/^-/g, '');\r\n  if (filters[key].indexOf(v) > -1) return \"+\";\r\n  if (filters[key].indexOf(\"-\" + v) > -1) return \"-\";\r\n  return false;\r\n};\r\n\r\nconst rightClick = (event, key, value, filters, change) => {\r\n  event.preventDefault();\r\n  event.stopPropagation();\r\n  toggle_filter(key, value, filters, change);\r\n  return false;\r\n};\r\n\r\nexport const getDefaultFilters = () => {\r\n  //return [];\r\n  return Object.entries(AllFilters).filter(f => f[1].default).map(f => ({\r\n    key: f[0],\r\n    value: f[1].default\r\n  }));\r\n}\r\n\r\nexport const FilterCollectionWidget = ({ filters, change }) => {\r\n  const [showMore, setShowMore] = useState(false);\r\n  return (\r\n    <div className='filterlists'>\r\n      {Object.entries(AllFilters).filter(f => showMore || f[1].basic === true).map(f =>\r\n        <div className='card' key={f[0]}>\r\n          <h3>{f[1].title}</h3>\r\n          <ul>\r\n            {f[1].options.map(o =>\r\n              <li key={o.value}><button\r\n                onContextMenu={(event) => rightClick(event, f[0], \"-\" + o.value, filters, change)}\r\n                onClick={() => toggle_filter(f[0], o.value, filters, change)}\r\n                className={ (isActiveFilter(filters, f[0], o.value) === \"+\" ? \"selected\" : null) + \" \" + (isActiveFilter(filters, f[0], \"-\"+o.value) === \"-\" ? \"disselected\" : null)}\r\n               >{o.name || o.value}</button></li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      )}\r\n        <div className='card'><button onClick={() => setShowMore(!showMore)}>{showMore ? \"<<\" : \">>\"}</button></div>\r\n    </div>);\r\n};\r\n","import db from '../utilities/db';\r\n\r\nexport const CreateCollectionFromUserDetails = async (dbKeys, save) => {\r\n  var all = {};\r\n  for (let key of dbKeys) {\r\n    var games = await db.get(db.DETAILS, key);\r\n    for (let g of games) {\r\n      all[g['@id']] = g;\r\n    }\r\n  }\r\n  let allGames = Object.values(all);\r\n  console.log(allGames[0]);\r\n  allGames = allGames.map(x => CreateGameDataFromBggData(x));\r\n  save(allGames);\r\n}\r\n\r\nconst approxRank = (rating) => {\r\n  if (rating > 8.5) return 3;\r\n  if (rating > 8) return 15;\r\n  if (rating > 7.5) return 75;\r\n  if (rating > 7) return 200;\r\n  if (rating > 6) return 500;\r\n  if (rating > 5) return 1000;\r\n  if (rating > 4) return 5000;\r\n  if (rating > 3) return 10000;\r\n  if (rating > 2) return 15000;\r\n  return 100000;\r\n}\r\n\r\nexport const CreateGameDataFromBggData = (data) => {\r\n  let id = data['@id'];\r\n\r\n  let name = data.name;\r\n  if (Array.isArray(name)) {\r\n    let filtered = name.filter(n => n[\"@type\"] === \"primary\")[0];\r\n    name = filtered || name[0];\r\n  }\r\n  name = name[\"@value\"];\r\n\r\n  let image = data.thumbnail;\r\n  let year = parseInt(data.yearpublished[\"@value\"], 10);\r\n  let rating = parseFloat(data.stats.rating[\"@value\"]);\r\n  let playtime = parseInt(data.playingtime[\"@value\"], 10);\r\n  let minage = parseInt(data.minage[\"@value\"], 10);\r\n  let minplayers = parseInt(data.minplayers[\"@value\"], 10);\r\n  let maxplayers = parseInt(data.maxplayers[\"@value\"], 10);\r\n  let maxplaytime = parseInt(data.maxplaytime[\"@value\"], 10);\r\n  let minplaytime = parseInt(data.minplaytime[\"@value\"], 10);\r\n  let numowned = parseInt(data.stats[\"@numowned\"], 10);\r\n  let plays = parseInt(data.numplays, 10);\r\n  if (!Array.isArray(data.stats.rating.ranks.rank)) {\r\n    data.stats.rating.ranks.rank = [data.stats.rating.ranks.rank];\r\n  }\r\n\r\n  let rank = data.stats.rating.ranks.rank.filter(x => x[\"@id\"] === \"1\")[0];\r\n  let bggrating = parseFloat(data.stats.rating.average[\"@value\"]);\r\n  if (rank) {\r\n    bggrating = parseFloat(rank[\"@bayesaverage\"]) || bggrating;\r\n    rank = parseFloat(rank[\"@value\"]) || approxRank(bggrating);\r\n  }\r\n\r\n  let suggestedPlayers = { best: [], recommended: [], avoid: [] };\r\n  let suggested = data.poll.filter(x => x[\"@name\"] === \"suggested_numplayers\")[0];\r\n  if (suggested) {\r\n    if (!Array.isArray(suggested.results)) suggested.results = [suggested.results];\r\n    for (var item of suggested.results) {\r\n      let num = item[\"@numplayers\"];\r\n      let votes_best = parseInt(item.result.filter(x => x[\"@value\"] === \"Best\")[0][\"@numvotes\"], 10);\r\n      let votes_recommended = parseInt(item.result.filter(x => x[\"@value\"] === \"Recommended\")[0][\"@numvotes\"], 10);\r\n      let votes_avoid = parseInt(item.result.filter(x => x[\"@value\"] === \"Not Recommended\")[0][\"@numvotes\"], 10);\r\n\r\n      if (votes_avoid > votes_best + votes_recommended) {\r\n        if (num.indexOf('+') === -1)\r\n          suggestedPlayers.avoid.push(num);\r\n      }\r\n      else if (votes_best > votes_recommended) suggestedPlayers.best.push(num);\r\n      else suggestedPlayers.recommended.push(num);\r\n    }\r\n  }\r\n\r\n  let language = null;\r\n  let langPoll = data.poll.find(x => x[\"@name\"] === \"language_dependence\");\r\n  if (langPoll) {\r\n    let l1 = parseInt(langPoll.results.result.find(x => x[\"@value\"] === \"No necessary in-game text\")[\"@numvotes\"], 10);\r\n    let l2 = parseInt(langPoll.results.result.find(x => x[\"@value\"] === \"Some necessary text - easily memorized or small crib sheet\")[\"@numvotes\"], 10);\r\n    let l3 = parseInt(langPoll.results.result.find(x => x[\"@value\"] === \"Moderate in-game text - needs crib sheet or paste ups\")[\"@numvotes\"], 10);\r\n    let l4 = parseInt(langPoll.results.result.find(x => x[\"@value\"] === \"Extensive use of text - massive conversion needed to be playable\")[\"@numvotes\"], 10);\r\n    let l5 = parseInt(langPoll.results.result.find(x => x[\"@value\"] === \"Unplayable in another language\")[\"@numvotes\"], 10);\r\n    language = (l1 + l2*2 + l3*3 + l4*4 + l5*5) / (l1+l2+l3+l4+l5);\r\n  }\r\n\r\n  let group = data.link.filter(x => x[\"@type\"] === \"boardgamecategory\" || x[\"@type\"] === \"boardgamemechanic\").map(x => x[\"@value\"]);\r\n\r\n  let weight = parseFloat(data.statistics.ratings.averageweight[\"@value\"]);\r\n  let ratings = parseFloat(data.statistics.ratings.usersrated[\"@value\"]);\r\n\r\n  let gamedata = {\r\n    id, name, year, rating, playtime, minage, minplayers, maxplayers, maxplaytime, minplaytime, rank, bggrating, suggestedPlayers, image, numowned,\r\n    group,\r\n    weight,\r\n    ratings,\r\n    plays,\r\n    language\r\n  };\r\n\r\n  return gamedata;\r\n};\r\n","import React from 'react';\r\n\r\nconst getIcon = (n, min, max, suggested) => {\r\n  if (n < min || n > max)  return;\r\n\r\n  let color = \"gray\";\r\n  let N = n >= 7 ? \"7+\" : \"\" + n;\r\n  let bold = \"inherit\";\r\n\r\n  if (suggested.best.indexOf(N) > -1) { color = \"lightgreen\"; bold = \"bold\"; }\r\n  else if (suggested.recommended.indexOf(N) > -1) color = \"lightblue\";\r\n  else if (suggested.avoid.indexOf(N) > -1) color = \"pink\";\r\n\r\n  return <span className=\"playerNum\"><span className=\"circle\" style={{\"color\": color }}>&#9210;</span><span className=\"count\" style={{\"font-weight\": bold }}>{N}</span></span>\r\n};\r\n\r\nexport const GameDataCard = ({ data }) => {\r\n  // let imgData = data.image && await db.get(db.IMAGES, data.image);\r\n  return (<div className='gamecard'>\r\n    {data.image && <div className='thumbnail'><img src={data.image} alt=\"Thumbnail for game\" style={{ maxWidth: \"100%\", maxHeight: \"200px\" }} /></div>}\r\n    <div className='heading'>\r\n      <span className='rank'>#{data.rank}</span> <span className='title'>{data.name}</span> <span className='year'>({data.year})</span>\r\n    </div>\r\n    <div className='details'>\r\n      <span className='rating'>Rating {Math.round(data.bggrating * 100) / 100}</span> <br />\r\n      <span className='playtime'>{data.playtime} min</span> <br />\r\n      <span className='weight'>Weight {Math.round(data.weight * 100) / 100}</span> <br />\r\n      <span className='players'>\r\n        <span>Players </span>\r\n        {getIcon(1, data.minplayers, data.maxplayers, data.suggestedPlayers)}\r\n        {getIcon(2, data.minplayers, data.maxplayers, data.suggestedPlayers)}        \r\n        {getIcon(3, data.minplayers, data.maxplayers, data.suggestedPlayers)}\r\n        {getIcon(4, data.minplayers, data.maxplayers, data.suggestedPlayers)}\r\n        {getIcon(5, data.minplayers, data.maxplayers, data.suggestedPlayers)}\r\n        {getIcon(6, data.minplayers, data.maxplayers, data.suggestedPlayers)}\r\n        {getIcon(7, data.minplayers, data.maxplayers, data.suggestedPlayers)}\r\n\r\n      </span>\r\n    </div>\r\n  </div>)\r\n  /*\r\n\r\n        Players {data.minplayers} to {data.maxplayers}<br />\r\n        Best at {data.suggestedPlayers.best.join(',')} <br />\r\n        Recommended at {data.suggestedPlayers.recommended.join(',')}\r\n*/\r\n};\r\n\r\nexport default GameDataCard;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FilterCollectionWidget, applyFilters, getDefaultFilters } from './FilterCollectionWidget';\r\nimport { CreateCollectionFromUserDetails } from './CreateGameDataUtility';\r\nimport { GameDataCard } from './GameDataCard';\r\n\r\nconst AddUsersComponent = ({ activeClass, action, name }) => {\r\n  return (<><button className={activeClass} onClick={action}>{name}</button></>);\r\n}\r\n\r\nconst GamesComponent = ({ list, sort }) => {\r\n  if (!list) return (<></>);\r\n  sort = sort || \"rank,asc\";\r\n  let sortBy = sort.split(',')[0];\r\n  let desc = sort.split(',')[1] === \"desc\";\r\n  let up = desc ? -1 : 1\r\n  let down = desc ? 1 : -1\r\n  if (sortBy === \"rank\")  list.sort((a, b) => a.rank > b.rank ? up : down);\r\n  if (sortBy === \"rating\")  list.sort((a, b) => a.rating > b.rating ? up : down);\r\n  if (sortBy === \"numowned\")  list.sort((a, b) => a.numowned > b.numowned ? up : down);\r\n  \r\n  if (sortBy === \"playtime\")  list.sort((a, b) => a.playtime > b.playtime ? up : down);\r\n  if (sortBy === \"weight\")  list.sort((a, b) => a.weight > b.weight ? up : down);\r\n  if (sortBy === \"year\")  list.sort((a, b) => a.year > b.year ? up : down);\r\n  if (sortBy === \"name\")  list.sort((a, b) => a.name > b.name ? up : down);\r\n\r\n  return (<ul>{list.map(x => (<li key={x.id}>{<GameDataCard data={x} />}</li>))}</ul>);\r\n};\r\n\r\nconst FilterCollectionComponent = ({ users, active, history, dispatch, location, match, details, collection, sort }) => {\r\n  if (Object.keys(users).length === 0) {\r\n    history.replace('/collection');\r\n  }\r\n\r\n  var filterList = (location.search && location.search.replace('?', '').split('&').map(x => x.split('=')).map(x => ({ key: x[0], value: decodeURIComponent(x[1]).split(',') }))) || getDefaultFilters();\r\n  // eslint-disable-next-line\r\n  var filters = filterList.reduce((a, b) => (a[b.key] = b.value, a), {});\r\n\r\n  var selectedUsers = (match.params.users && match.params.users.split(',')) || [];\r\n\r\n  if (selectedUsers.length === 0 && active.length > 0) {\r\n    history.replace('/filter/' + active.join(','));\r\n    return <></>;\r\n  }\r\n\r\n  let activeStateDetails = Object.entries(details).map(x => ({ user: x[0], active: selectedUsers.indexOf(x[0]) > -1, dbKey: x[1] }));\r\n\r\n  if (selectedUsers.length && match.params.users !== active.join(',')) {\r\n    dispatch({ type: \"SET_ACTIVE\", value: selectedUsers });\r\n    CreateCollectionFromUserDetails(activeStateDetails.filter(x => x.active).map(x => x.dbKey), x => dispatch({ type: \"SET_COLLECTION\", value: x }));\r\n  }\r\n\r\n  const add_active = (user) => {\r\n    let x = [...active, user];\r\n    history.replace('/filter/' + x.join(',') + location.search);\r\n  }\r\n\r\n  const rem_active = (user) => {\r\n    let x = active.filter(x => x !== user);\r\n    history.replace('/filter/' + x.join(',') + location.search);\r\n  }\r\n\r\n  let filteredCollection = applyFilters(collection, filters);\r\n\r\n  return (\r\n    <div className=\"Main\">\r\n      <h2>Change Collection</h2>\r\n      <div className=\"userlist\">\r\n        {activeStateDetails.map(x => (<AddUsersComponent activeClass={x.active ? \"active\" : null} key={x.user} action={() => x.active ? rem_active(x.user) : add_active(x.user)} name={x.user} />))}\r\n      </div>\r\n      <h2>Add Filter</h2>\r\n      <FilterCollectionWidget filters={filters} change={(q) => history.push(location.pathname + '?' + q)} />\r\n      <div className=\"gamelist\">\r\n        <h2>Games</h2>\r\n        <div className='sortbar'>Sorty by <select value={sort} onChange={(e) => dispatch({ type: \"SET_SORT\", value: e.target.value})}>\r\n                  <option value=\"rank,asc\">Ranking</option>\r\n                  <option value=\"rating,desc\">Own Rating</option>\r\n                  <option value=\"numowned,desc\">Popularity</option>\r\n                  <option value=\"playtime,asc\">Play time</option>\r\n                  <option value=\"weight,asc\">Weight</option>\r\n                  <option value=\"year,desc\">Release year</option>\r\n                  <option value=\"name,asc\">Name</option>\r\n               </select></div>\r\n        <GamesComponent list={filteredCollection} sort={sort}  />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  users: state.users,\r\n  active: state.active,\r\n  details: state.details,\r\n  collection: state.collection,\r\n  sort: state.sort,\r\n});\r\n\r\nexport default connect(mapStateToProps)(FilterCollectionComponent);\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Configuration from '../modules/Configuration';\r\nimport CollectionPage from '../modules/Collection';\r\nimport NotFound from '../modules/ErrorPages';\r\n\r\nimport { Provider } from 'react-redux'\r\nimport { Route, HashRouter as Router, Switch, NavLink  } from 'react-router-dom'\r\nimport { store } from '../store';\r\nimport HomeComponent from '../modules/HomeComponent'\r\nimport FilterCollectionComponent from '../modules/FilterCollectionComponent/FilterCollectionComponent'\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <Router>\r\n        <nav className='sm-flex'>\r\n          <NavLink exact activeClassName='active' to=\"/\">Home</NavLink>\r\n          <NavLink activeClassName='active' to=\"/collection/\">Collection</NavLink>\r\n          <NavLink activeClassName='active' to=\"/config\">Configuration</NavLink>\r\n        </nav>\r\n        <div className=\"Body\">\r\n          <Switch>\r\n            <Route exact path=\"/\" component={HomeComponent} />\r\n            <Route path=\"/collection\" component={CollectionPage} />\r\n            <Route path=\"/config\" component={Configuration} />\r\n            <Route path=\"/filter/:users\" component={FilterCollectionComponent} />\r\n            <Route path=\"/filter\" component={FilterCollectionComponent} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './Router/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}